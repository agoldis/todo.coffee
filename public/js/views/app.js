// Generated by CoffeeScript 1.9.1
(function() {
  define(['backbone', 'underscore', 'collections/list', 'views/list', 'views/controller', 'text!templates/layout.html'], function(Backbone, _, TodoCollection, ListView, ControllerView, layoutTpl) {
    return Backbone.View.extend({
      template: _.template(layoutTpl),
      initialize: function() {
        this.collection = new TodoCollection();
        this.ctrlView = new ControllerView({
          collection: this.collection
        });
        return this.listView = new ListView({
          collection: this.collection
        });
      },
      render: function() {
        this.$el.html(this.template());
        $('#app-ctrl').html(this.ctrlView.render().el);
        $("#app-items-list").html(this.listView.render().el);
        this.collection.fetch();
        return this;
      }
    });
  });

}).call(this);
