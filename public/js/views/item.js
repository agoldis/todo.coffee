// Generated by CoffeeScript 1.9.1
(function() {
  define((['backbone', 'text!templates/item.html'], function(Backbone, itemTpl) {
    return Backbone.View.extend({
      tagName: 'li',
      template: _.template(itemTpl),
      events: {
        'click .toggle': 'toggleCompleted'
      },
      initialize: function() {
        this.listenTo(this.model, 'change', this.render);
        return this.listenTo(this.model, 'destroy', this.remove);
      },
      toggleCompleted: function() {
        this.model.set('completed', !this.model.get('completed'));
        return this.model.save({
          'completed': this.model.get('completed')
        });
      },
      render: function() {
        this.$el.html(this.template(this.model.attributes));
        this.$el.toggleClass('hidden', this.model.get(isHidden));
        return this;
      }
    });
  }));

}).call(this);
